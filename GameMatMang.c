#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <windows.h>
#include <conio.h>
#include <pthread.h>
#include <string.h>
#include <time.h>


char board[28][140] = {
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','.','-','~','~','~','-','.',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','.','-',' ','~',' ','~','-','(',' ',' ',' ',' ',' ',' ',' ',')','_',' ','_',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','/',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','~',' ','-','.',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','\\',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','\\',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','.','\'',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','~','-','_','.','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' ','.',' ','-','~',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
/**/{' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',219,219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',219,219,'.',219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',219,219,219,219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',219,' ',' ',' ',' ',' ',219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',219,219,' ',' ',' ',219,219,219,219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',219,219,219,' ',219,219,219,219,219,219,219,219,219,219,219,220,220,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
/**/{' ',' ',' ',' ',' ',' ',219,219,219,219,219,219,219,219,219,219,219,219,219,219,' ',223,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',219,219,219,219,219,219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',219,219,219,219,219,219,219,219,219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',219,219,' ',' ',' ',' ',' ',' ',219,219,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
    {'-','-','-','-','-','-','-','-',219,219,219,'-','-','-','-','-',219,219,219,'-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'},
    {' ','_',' ',' ','_',' ',' ',' ','-','_',' ','_',' ',' ','-',' ','_',' ','-',' ',' ',' ',' ',' ',' ','_','-',' ',' ',' ',' ',' ','-',' ',' ',' ','_',' ',' ','-',' ','_',' ',' ',' ',' ','-',' ','_',' ',' ',' ','-',' ','_',' ',' ',' ',' ','-',' ','_',' ','-','-',' ','_','_',' ',' ',' ','-','_',' ',' ',' ','_','_',' ',' ',' ',' ',' ',' ',' ','-',' ',' ',' ','-',' ',' ','_',' ',' ','-','-',' ',' ',' ','-','-',' ',' ','_','_',' ','_','-',' ',' ',' ',' ','_',' ',' ','-',' ',' ', ' '},
    {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
};

const char dino_u[12][10][2] = {
    {{10}, {12, 219},{13, 219},{14, 219},{15, 219},{16, 219},{17, 219},{18, 219},{19, 219},{20, 219}},
    {{4}, {11, 219},{13, 46},{21, 219}},
    {{2}, {13, 219}},
    {{7}, {5, 219},{17, 32},{18, 32},{19, 32},{20, 32},{21, 32}},
    {{7}, {6, 219},{10, 219},{17, 219},{18, 219},{19, 219},{20, 219}},
    {{5}, {7, 219},{9, 219},{20, 220},{21, 220}},
    {{5}, {5, 32},{8, 219},{20, 32},{21, 223}},
    {{3}, {6, 32},{21, 32}},
    {{4}, {7, 32},{18, 32},{19, 32}},
    {{7}, {10, 32},{11, 32},{12, 32},{13, 32},{14, 32},{15, 32}},
    {{3}, {10, 219},{18, 219}},
    {{7}, {8, 32},{9, 32},{10, 32},{16, 32},{17, 32},{18, 32}},
};

const char dino_d[12][10][2] = {
    {{10}, {12, 32},{13, 32},{14, 32},{15, 32},{16, 32},{17, 32},{18, 32},{19, 32},{20, 32}},
    {{4}, {11, 32},{13, 219},{21, 32}},
    {{2}, {13, 46}},
    {{7}, {5, 32},{17, 219},{18, 219},{19, 219},{20, 219},{21, 219}},
    {{7}, {6, 32},{10, 32},{17, 32},{18, 32},{19, 32},{20, 32}},
    {{5}, {7, 32},{9, 32},{20, 219},{21, 32}},
    {{5}, {5, 219},{8, 32},{20, 220},{21, 220}},
    {{3}, {6, 219},{21, 223}},
    {{4}, {7, 219},{18, 219},{19, 219}},
    {{7}, {10, 219},{11, 219},{12, 219},{13, 219},{14, 219},{15, 219}},
    {{3}, {10, 32},{18, 32}},
    {{7}, {8, 219},{9, 219},{10, 219},{16, 219},{17, 219},{18, 219}},
};

const char tree_1[5][6] = {
    {' ',' ',219,' ',' ',' '},
    {' ',' ',219,' ',219,' '},
    {219,' ',219,220,219,' '},
    {219,220,219,' ',' ',' '},
    {'-','-',219,'-','-','-'}
};

const char tree_2[5][12] = {
    {' ',' ',219,' ',' ',' ',' ',' ',219,' ',' ',' '},
    {' ',' ',219,' ',219,' ',' ',' ',219,' ',219,' '},
    {219,' ',219,220,219,' ',219,' ',219,220,219,' '},
    {219,220,219,' ',' ',' ',219,220,219,' ',' ',' '},
    {'-','-',219,'-','-','-','-','-',219,'-','-','-'}
};

const char press_art[4][111] = {
    {' ','_','_','_',' ',' ','_','_','_',' ',' ','_','_','_',' ',' ','_','_','_',' ',' ','_','_','_',' ',' ',' ',' ',' ',' ',' ',' ','_','_','_',' ',' ',' ',' ',' ',' ',' ',' ','_','_','_','_','_',' ',' ',' ','_','_','_',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','_','_','_',' ',' ',' ','_','_','_',' ',' ',' ','_',' ',' ','_',' ',' ','_','_','_','_','_',' ',' ','_','_','_',' ',' ','_',' ',' ','_',' ',' ','_',' ',' ',' ','_',' ',' ','_','_','_',' '},
    {'|',' ','_',' ','\\','|',' ','_',' ','\\','|',' ','_','_','|','/',' ','_','_','|','/',' ','_','_','|',' ',' ',' ',' ',' ',' ','|',' ','_','_','|',' ',' ',' ',' ',' ',' ','|','_',' ',' ',' ','_','|',' ','/',' ','_',' ','\\',' ',' ',' ',' ',' ',' ',' ',' ','/',' ','_','_','|',' ','/',' ','_',' ','\\',' ','|',' ','\\','|',' ','|','|','_',' ',' ',' ','_','|','|','_',' ','_','|','|',' ','\\','|',' ','|','|',' ','|',' ','|',' ','|','|',' ','_','_','|'},
    {'|',' ',' ','_','/','|',' ',' ',' ','/','|',' ','_','|',' ','\\','_','_',' ','\\','\\','_','_',' ','\\',' ',' ',' ',' ',' ',' ','|',' ','_','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ','|',' ',' ','|',' ','(','_',')',' ','|',' ',' ',' ',' ',' ',' ','|',' ','(','_','_',' ','|',' ','(','_',')',' ','|','|',' ','.',' ',' ','|',' ',' ','|',' ','|',' ',' ',' ','|',' ','|',' ','|',' ','.',' ',' ','|','|',' ','|','_','|',' ','|','|',' ','_','|',' '},
    {'|','_','|',' ',' ','|','_','|','_','\\','|','_','_','_','|','|','_','_','_','/','|','_','_','_','/',' ',' ',' ',' ',' ',' ','|','_','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|','_','|',' ',' ',' ','\\','_','_','_','/',' ',' ',' ',' ',' ',' ',' ',' ','\\','_','_','_','|',' ','\\','_','_','_','/',' ','|','_','|','\\','_','|',' ',' ','|','_','|',' ',' ','|','_','_','_','|','|','_','|','\\','_','|',' ','\\','_','_','_','/',' ','|','_','_','_','|'}
};

const char over_art[6][77] = {
    {' ',' ','_','_','_','_','_',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','_','_',' ',' ','_','_',' ',' ',' ','_','_','_','_','_','_',' ',' ',' ',' ',' ',' ','_','_','_','_',' ',' ',' ','_','_',' ',' ',' ',' ',' ',' ','_','_',' ',' ','_','_','_','_','_','_',' ',' ',' ','_','_','_','_','_',' ',' '},
    {' ','/',' ','_','_','_','_','|',' ',' ',' ',' ',' ','/','\\',' ',' ',' ',' ',' ','|',' ',' ','\\','/',' ',' ','|',' ','|',' ',' ','_','_','_','_','|',' ',' ',' ',' ','/',' ','_','_',' ','\\',' ',' ','\\',' ','\\',' ',' ',' ',' ','/',' ','/',' ','|',' ',' ','_','_','_','_','|',' ','|',' ',' ','_','_',' ','\\',' '},
    {'|',' ','|',' ',' ','_','_',' ',' ',' ',' ',' ','/',' ',' ','\\',' ',' ',' ',' ','|',' ','\\',' ',' ','/',' ','|',' ','|',' ','|','_','_',' ',' ',' ',' ',' ',' ','|',' ','|',' ',' ','|',' ','|',' ',' ','\\',' ','\\',' ',' ','/',' ','/',' ',' ','|',' ','|','_','_',' ',' ',' ',' ','|',' ','|','_','_',')',' ','|'},
    {'|',' ','|',' ','|','_',' ','|',' ',' ',' ','/',' ','/','\\',' ','\\',' ',' ',' ','|',' ','|','\\','/','|',' ','|',' ','|',' ',' ','_','_','|',' ',' ',' ',' ',' ','|',' ','|',' ',' ','|',' ','|',' ',' ',' ','\\',' ','\\','/',' ','/',' ',' ',' ','|',' ',' ','_','_','|',' ',' ',' ','|',' ',' ','_',' ',' ','/',' '},
    {'|',' ','|','_','_','|',' ','|',' ',' ','/',' ','_','_','_','_',' ','\\',' ',' ','|',' ','|',' ',' ','|',' ','|',' ','|',' ','|','_','_','_','_',' ',' ',' ',' ','|',' ','|','_','_','|',' ','|',' ',' ',' ',' ','\\',' ',' ','/',' ',' ',' ',' ','|',' ','|','_','_','_','_',' ',' ','|',' ','|',' ','\\',' ','\\',' '},
    {' ','\\','_','_','_','_','_','|',' ','/','_','/',' ',' ',' ',' ','\\','_','\\',' ','|','_','|',' ',' ','|','_','|',' ','|','_','_','_','_','_','_','|',' ',' ',' ',' ','\\','_','_','_','_','/',' ',' ',' ',' ',' ',' ','\\','/',' ',' ',' ',' ',' ','|','_','_','_','_','_','_','|',' ','|','_','|',' ',' ','\\','_','\\'}
};

int height = 0;
bool game_over = false;
bool game_start = false;
int score;
char restore_board[28][140];

void *output();
void *press_key();
void *foot();
void *road();
void jump();
void *welcome();
void over();
void is_game_over();
int random_number(int min_num, int max_num);

int main(void){
    system("mode 650");
    //system("color F8");
    printf("\e[?25l");
    memcpy(restore_board, board, 3920);
    pthread_t arr[4];
    char c;
    while(1){
        pthread_create(&arr[0], NULL, welcome, NULL);
        pthread_create(&arr[1], NULL, output, NULL);
        pthread_join(arr[0], NULL);
        pthread_create(&arr[2], NULL, press_key, NULL);
        pthread_create(&arr[3], NULL, foot, NULL);
        pthread_create(&arr[4], NULL, road, NULL); 
        pthread_join(arr[1], NULL);
        pthread_join(arr[2], NULL);
        pthread_join(arr[3], NULL);
        pthread_join(arr[4], NULL);
        over();
    }
    return 0;
}


void *welcome(){
    char c;
    int end, n;
    for(int k = 0; k < 11; k++){
        game_over = false;
        n = 3;
        for(int i = k ; n != -1 && i > -1; i--){
            for(int j = 0; j < 111; j++){
                board[i][j+3] = press_art[n][j];
            }
            n--;
        }
        if(k > 3){
            for(int j = 0; j < 111; j++){
                board[k-4][j+3] = ' ';
            }
        }
        Sleep(30);
    }
    while(1){
        if(_kbhit()){
            c = _getch();
            if(c == 'f' || c == 'F'){
                break;
            }
        }
    }
    while(_kbhit()){ _getch(); }
    for(int i = 3; i < 114; i++){
        board[7][i] = ' ';
        board[8][i] = ' ';
        board[9][i] = ' ';
        board[10][i] = ' ';
        Sleep(5);
    }
    game_start = true;
    jump();
    memcpy(board, restore_board, 3920);
}

void over(){
    game_over = false;
    pthread_t out;
    pthread_create(&out, NULL, output, NULL);
    int n;
    for(int k = 0; k < 12; k++){
        n = 5;
        for(int i = k ; n != -1 && i > -1; i--){
            for(int j = 0; j < 77; j++){
                board[i][j+21] = over_art[n][j];
            }
            n--;
        }
        if(k > 5){
            for(int j = 0; j < 77; j++){
                board[k-6][j+21] = ' ';
            }
        }
        Sleep(30);
    }
    Sleep(1000);
    for(int i = 21; i < 98; i++){
        board[6][i] = ' ';
        board[7][i] = ' ';
        board[8][i] = ' ';
        board[9][i] = ' ';
        board[10][i] = ' ';
        board[11][i] = ' ';
        Sleep(3);
    }
    game_over = true;
    pthread_join(out, NULL);
}

void *output(){
    score = 0;
    while(!game_over){
        printf("\r\033[27A");
        printf("\r\033[27A%.100s Hi %d\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n",
            board[0], score, board[1], board[2], board[3], board[4], board[5], board[6], board[7], board[8], 
            board[9], board[10], board[11], board[12], board[13], board[14], board[15], board[16], board[17], 
            board[18], board[19], board[20], board[21], board[22], board[23], board[24], board[25], board[26]);
        if(game_start){
            score++;
        }
        Sleep(5);
    }
}


void *press_key(){
    while(!game_over){
        if (_kbhit()){
            while(_kbhit()){ _getch(); }
            jump();
            height = 0;
        }
    }
}

void jump(){
    int sleep = 10;
    for(height = 1; height < 14; height++){
        for(int i = 0; i < 12; i++){
            for(int j = 1; j < dino_u[i][0][0]; j++){
                board[15 + i - height][dino_u[i][j][0]] = (15 + i - height == 25 && dino_u[i][j][1] == 32) ? '-' : dino_u[i][j][1];
            }
        }
        Sleep(sleep+=3);
    }
    Sleep(39);
    while(_kbhit()){ _getch(); }
    for(height = 13; height > 0; height--){
        for(int i = 0; i < 12; i++){
            for(int j = 1; j < dino_d[i][0][0]; j++){
                board[15 + i - height][dino_d[i][j][0]] = (15 + i - height == 25 && dino_d[i][j][1] == 32) ? '-' : dino_d[i][j][1];
            }
        }
        Sleep(sleep-=3);
    }
}

void *foot(){
    bool flag = true;
    while(!game_over){
        if(height == 0){
            if(flag){
                board[25][8] = '-';
                board[25][9] = '-';
                board[25][10] = '-';
                board[24][10] = 219;
                board[24][18] = ' ';
                board[25][16] = 219;
                board[25][17] = 219;
                board[25][18] = 219;
            } else {
                board[25][8] = 219;
                board[25][9] = 219;
                board[25][10] = 219;
                board[24][10] = ' ';
                board[24][18] = 219;
                board[25][16] = '-';
                board[25][17] = '-';
                board[25][18] = '-';
            }
            flag = !flag;
        }
        Sleep(120);
    }
}

void *road(){
    char temp;
    int count = 0, s = 13;
    long long time = 0, br = 500;
    int next = random_number(40, 100);
    while(!game_over){
        time++;
        for(int i = 0 ; i < 138; i++){
            if(board[27][i] == 'x'){
                board[24][i - 4] = ' ';
                for(int i_1 = 0; i_1 < 5; i_1++){
                    for(int j_1 = 0; j_1 < 6; j_1++){
                        if(i - 5 + j_1 > -1){
                            if(i_1 != 4 && board[21 + i_1][i - 5 + j_1] != ' ' && (j_1 == 0 || tree_1[i_1][j_1-1] == ' ')){
                                is_game_over();
                                pthread_exit(0);
                            }
                            board[21 + i_1][i - 5 + j_1] = tree_1[i_1][j_1];
                        }
                    }
                }
                board[27][i-1] = 'x'; board[27][i] = ' ';
            } else if(board[27][i] == 'y'){
                for(int i_1 = 0; i_1 < 5; i_1++){
                    for(int j_1 = 0; j_1 < 12; j_1++){
                        if(i - 11 + j_1 > -1){
                            if(i_1 != 4 && board[21 + i_1][i - 11 + j_1] != ' ' &&  (j_1 == 0 || tree_2[i_1][j_1-1] == ' ')){
                                is_game_over();
                                pthread_exit(0);
                            }
                            board[21 + i_1][i - 11 + j_1] = tree_2[i_1][j_1];
                        }
                    }
                }
                board[27][i-1] = 'y'; board[27][i] = ' ';
            }
        }
        count++;
        temp = board[26][0];
        for(int i = 0; i < 119; i++){
            board[26][i] = board[26][i + 1];
        }
        board[26][119] = temp;
        if(count == next){
            if(random_number(1, 2) == 1){
                for(int i = 0; i < 5; i++){
                    for(int j = 0 ; j < 5; j++){
                        board[21 + i][121 + j] = tree_1[i][j];
                    }
                }
                board[27][125] = 'x';
                next = random_number(70, 110);
            } else {
                for(int i = 0; i < 5; i++){
                    for(int j = 0 ; j < 11; j++){
                        board[21 + i][121 + j] = tree_2[i][j];
                    }
                }
                board[27][131] = 'y';
                next = random_number(70, 110);
            }
            count = 1;
        }
        if(s > 10 && time % br == 0){
            br = br + 500 + 250;
            s--;
        }
        Sleep(s);
    }
}

void is_game_over(){
    game_over = true;
    game_start = false;
    for(int i = 1; i < 17; i++){
        if(board[i][13] == '.'){
            board[i][13] = 254;
            break;
        }
    }
    Sleep(10);
    printf("\r\033[27A%.100s Hi %d\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n%.120s\n",
            board[0], score, board[1], board[2], board[3], board[4], board[5], board[6], board[7], board[8], 
            board[9], board[10], board[11], board[12], board[13], board[14], board[15], board[16], board[17], 
            board[18], board[19], board[20], board[21], board[22], board[23], board[24], board[25], board[26]);
    Sleep(100);
}


int random_number(int min_num, int max_num){
    int result = 0, low_num = 0, hi_num = 0;
    if (min_num < max_num){
        low_num = min_num;
        hi_num = max_num + 1;
    } else {
        low_num = max_num + 1;
        hi_num = min_num;
    }
    srand(time(NULL));
    result = (rand() % (hi_num - low_num)) + low_num;
    return result;
}
